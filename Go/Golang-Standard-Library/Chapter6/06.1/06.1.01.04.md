### 关闭文件：Close

- **(1) `close()` 系统调用关闭一个打开的文件描述符并释放回调用进程，供该进程继续使用。**
- **(2) `func (f *File) Close() error`**
- **(3) 两种情况会导致 `Close` 返回错误（通常不检查）：**
  - **关闭一个未打开的文件；**
  - **两次关闭同一个文件；**

### 关闭文件：Close

`close()` 系统调用关闭一个打开的文件描述符，并将其释放回调用进程，供该进程继续使用。当进程终止时，将自动关闭其已打开的所有文件描述符。

`func (f *File) Close() error`

`os.File.Close()` 是对 `close()` 的封装。我们应该养成关闭不需要的文件的良好编程习惯。文件描述符是资源，Go 的 gc 是针对内存的，并不会自动回收资源，如果不关闭文件描述符，长期运行的服务可能会把文件描述符耗尽。

所以，通常的写法如下：

```go
file, err := os.Open("/tmp/studygolang.txt")
if err != nil {
    // 错误处理，一般会阻止程序往下执行
    return
}
defer file.Close()
```

**关于返回值 `error`**

以下两种情况会导致 `Close` 返回错误：

    1. 关闭一个未打开的文件；
    2. 两次关闭同一个文件；

通常，我们不会去检查 `Close` 的错误。

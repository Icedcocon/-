# Python垃圾回收机制

#### 1.概念

（1）环状双向链表（refchain）：绝大部分Python对象用该数据结构保存；

（2）引用计数器（ob_refcnt）：每个对象都有，保存对象被引用次数；

（3）循环引用：两个对象互相引用；

（4）标记清除：创建特殊链表保存列表、元组、字典、集合、自定义类等可能循环引用的对象，检查链表中的对象是否存在循环引用，存在则让双方的引用计数器均 - 1 。

（5）分代回收：对标记清除中的链表进行优化，将那些可能存在循引用的对象拆分到3个链表，链表称为：0/1/2三代，每代都可以存储对象和阈值，当达到阈值时，就会对相应的链表中的每个对象做一次扫描，除循环引用各自减1并且销毁引用计数器为0的对象。

（6）缓存机制：采用free_list链表（float、list、tuple、dict）、small_ints链表（int）、unicode_latin1[256]链表（str）等数据结构进行内存池的管理，引用计数器为0时，不会真正销毁对象而是存放入内存池中。
